{"version":3,"sources":["0_main_variables.js","1_detectIE.js","accordion.js","check_resize.js","detectIphone.js","fadeSite.js","fixedHeader.js","form.js","lazy.js","popup.js","script.js","scrollTopBtn.js","sliders.js","stick_in_parent.js","textarea.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["const isMacLike = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i) ? true : false;\r\nconst isIOS = navigator.platform.match(/(iPhone|iPod|iPad)/i) ? true : false;\r\nconst isSafari = !!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/);\r\nconst isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\nconst page_content = $(window);\r\nconst mobile = device.mobile();\r\nconst tablet = device.tablet();\r\nlet headerSmall = false;\r\nlet header, scroll_top;\r\nlet bufer = 0;\r\nlet buferMax = isSafari ? 10 : isFirefox ? 30 : 200;\r\nlet window_width = $(window).innerWidth();\r\nlet window_height = $(window).innerHeight();\r\nlet menu_btn_access = true;\r\nlet animTime = 250;\r\nlet ease = Power2.out;\r\n\r\n\r\nif (isMacLike) $(\"body, html\").addClass(\"isMacLike\");\r\nif (isSafari) $(\"body, html\").addClass(\"isSafari\");","function detectIE() {\r\n    var ua = window.navigator.userAgent;\r\n    var msie = ua.indexOf('MSIE ');\r\n    if (msie > 0) {\r\n        // IE 10 or older => return version number\r\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\r\n    }\r\n    var trident = ua.indexOf('Trident/');\r\n    if (trident > 0) {\r\n        // IE 11 => return version number\r\n        var rv = ua.indexOf('rv:');\r\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\r\n    }\r\n    var edge = ua.indexOf('Edge/');\r\n    if (edge > 0) {\r\n        // Edge (IE 12+) => return version number\r\n        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\r\n    }\r\n    // other browser\r\n    return false;\r\n}\r\n\r\nif (detectIE()) {\r\n    $(\"body\").addClass(\"detectIE\");\r\n};","$(document).ready(function () {\r\n    $(\".accordion:not(.termsItem) .top\").click(function () {\r\n        $(this).parent().toggleClass(\"open\");\r\n        if ($(this).parent().hasClass(\"open\")) {\r\n            $(this).next().stop(true).slideDown(250);\r\n        } else {\r\n            $(this).next().stop(true).slideUp(250);\r\n        };\r\n    });\r\n})","// check_resize.js\r\nfunction get_responsive(responsive, window_width = $(window).innerWidth()) {\r\n    let prev = false;\r\n    let i;\r\n    let responsiveArr = responsive.slice();\r\n    responsiveArr.push(99999999)\r\n    $.each(responsiveArr, function (index, element) {\r\n        if (prev !== false && window_width <= responsiveArr[index] && window_width > prev) {\r\n            i = index - 1;\r\n            return false;\r\n        } else {\r\n            prev = element;\r\n        }\r\n    });\r\n    // console.log('responsive = ' + responsiveArr);\r\n    // console.log(responsive[i]);\r\n    return responsiveArr[i];\r\n};\r\nlet responsiveNow;\r\nconst responsiveSteps = [0, 540, 991];\r\nfunction check_resize() {\r\n    responsiveNow = get_responsive(responsiveSteps);\r\n    check_resizeDo(responsiveNow);\r\n    $(window).resize(function () {\r\n        if (responsiveNow != get_responsive(responsiveSteps)) {\r\n            responsiveNow = get_responsive(responsiveSteps);\r\n            check_resizeDo(responsiveNow);\r\n        }\r\n    });\r\n}\r\nfunction check_resizeDo(responsiveNow) {\r\n    switch (responsiveNow) {\r\n        case 0:\r\n            move_to_tablet();\r\n            break;\r\n        case 540:\r\n            move_to_tablet();\r\n            break;\r\n        case 991:\r\n            move_to_desktop();\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n// check_resize.js","\r\nfunction iPhoneVersion() {\r\n    var iHeight = window.screen.height;\r\n    var iWidth = window.screen.width;\r\n\r\n    if (iWidth === 414 && iHeight === 896) {\r\n        return \"Xmax-Xr\";\r\n    }\r\n    else if (iWidth === 375 && iHeight === 812) {\r\n        return \"X-Xs\";\r\n    }\r\n    else if (iWidth === 320 && iHeight === 480) {\r\n        return \"4\";\r\n    }\r\n    else if (iWidth === 375 && iHeight === 667) {\r\n        return \"6\";\r\n    }\r\n    else if (iWidth === 414 && iHeight === 736) {\r\n        return \"6+\";\r\n    }\r\n    else if (iWidth === 320 && iHeight === 568) {\r\n        return \"5\";\r\n    }\r\n    else if (iHeight <= 480) {\r\n        return \"2-3\";\r\n    }\r\n    return 'none';\r\n}\r\n\r\nfunction isIphone() {\r\n    return !!navigator.userAgent.match(/iPhone/i);\r\n}\r\n\r\nif (isIphone()) {\r\n    $(\"body\").addClass(\"iphone_model_\" + iPhoneVersion());\r\n}","\r\nfunction fadeSite() {\r\n    $(\".mainPage\").length ? fadeMainPage() : fadeDefaultPage();\r\n}\r\n\r\nfunction fadeDefaultPage() {\r\n    animateFromTo(\"#header, .wrapper\", timeShowHide * 2 / 1000, {}, { opacity: 1, ease: Power2.easeOut });\r\n    if ($(\".page404\").length) fade404Page();\r\n}\r\n\r\nfunction fadeMainPage() {\r\n    $(\"#header, .wrapper\").fadeTo(0, 1);\r\n    let transformY = 50;\r\n    let time = 2;\r\n    let ease = Power2.easeOut;\r\n    let titleText = titleTextWrapScrolledBlock.find(\".titleText\").first();\r\n    // titleText\r\n    animateFromTo(titleText, time,\r\n        { opacity: 0, y: -transformY * 2, z: -transformY },\r\n        { opacity: 1, y: 0, z: 0, ease: ease });\r\n    // header\r\n    animateFromTo('#header, #mainPageTopBlock', time / 2,\r\n        { opacity: 0, y: -transformY * 2 },\r\n        { opacity: 1, y: 0, ease: ease }, time * 0.75);\r\n};\r\n\r\nfunction animateFromTo(elem, time, from, to, delay = 0) {\r\n    TweenMax.fromTo(elem, time, from, to).delay(delay);\r\n};","// // fixedHeader.js\r\n// function checkSizeHeader() {\r\n//     scroll_top = $(this).scrollTop();\r\n//     let max = 50;\r\n//     // header scroll\r\n//     if (scroll_top > max && !headerSmall) {\r\n//         header.addClass(\"small\");\r\n//         headerSmall = true;\r\n//     };\r\n//     if (scroll_top <= max && headerSmall) {\r\n//         header.removeClass(\"small\");\r\n//         headerSmall = false;\r\n//     };\r\n// };\r\n\r\n// let timer;\r\n// let headerBG = false;\r\n// function scrollHeader() {\r\n//     if (window_width > 991) return false;\r\n//     // console.log($(window).scrollTop())\r\n\r\n//     if ($(window).scrollTop() > 50 && !headerBG) {\r\n//         headerBG = true;\r\n//         $(\"header\").addClass(\"bg\").css({\r\n//             background: ''\r\n//         });\r\n//     }\r\n//     if (headerBG && ($(window).scrollTop() < 50 || $(window).scrollTop() <= 0)) {\r\n//         headerBG = false;\r\n//         $(\"header\").removeClass(\"bg\").css({\r\n//             background: 'transparent'\r\n//         })\r\n//     }\r\n//     if ($(window).scrollTop() < 0) {\r\n//         headerBG = false;\r\n//         $(\"header\").removeClass(\"bg\").css({\r\n//             background: 'rgba(0,0,0,0.00001)'\r\n//         });\r\n//         // clearTimeout(timer)\r\n//         // timer = setTimeout(() => {\r\n//         //     alert($(\"header\").hasClass('bg'))\r\n//         // }, 250);\r\n//     }\r\n// }\r\n\r\n// $(document).ready(function () {\r\n//     // header init\r\n//     if ($(\".defaultHeader\").length) {\r\n//         header = $('header');\r\n//         header.addClass(\"transition0s\")\r\n//         $(window).scroll(checkSizeHeader)\r\n//         checkSizeHeader();\r\n//         setTimeout(() => { header.removeClass(\"transition0s\"); }, 1000);\r\n//     }\r\n//     // header init\r\n// });\r\n\r\n    // if (window_width <= 991) {\r\n    //     $(window).on(\"scroll.header\", scrollHeader)\r\n    //     scrollHeader();\r\n    // }\r\n// // fixedHeader.js","let ajaxCalcAccess = true;\r\nvar arr_timers_form_input = [];\r\nvar arr_timers_form_textarea = [];\r\nvar submitError = false;\r\nfunction createError(item) {\r\n    create_timer(item);\r\n    item.closest('.with_line').addClass(\"error\");\r\n    item.closest('.with_line').find(\".error_text\").fadeIn(250);\r\n};\r\nfunction create_timer(item) {\r\n    let type = item[0].tagName;\r\n    let index = $(\"form input\").index(item);\r\n    let mass = (type == 'INPUT') ? arr_timers_form_input[index] : arr_timers_form_textarea[index];\r\n    clearTimeout(mass);\r\n    arr_timers_form_input[index] = setTimeout(function () {\r\n        item.parent().removeClass(\"error\");\r\n        item.parent().find(\".error_text\").fadeOut(300);\r\n    }, 3000);\r\n};\r\n\r\nfunction scrollToErrorInput() {\r\n    let inputTop, scrollTop;\r\n    if ($(this).closest(\".popup_block\").length) {\r\n        inputTop = $(this).closest(\"label\").position().top;\r\n        scrollTop = $(\".popup_block:visible .popupContent\").scrollTop();\r\n        if (inputTop < scrollTop + $(\"header\").innerHeight() || inputTop > scrollTop + window.innerHeight) {\r\n            scrollTo('.popup_block:visible .popupContent', inputTop, 0.5)\r\n        }\r\n    } else {\r\n        inputTop = $(this).closest(\"label\").offset().top;\r\n        scrollTop = $(window).scrollTop();\r\n        if (inputTop < scrollTop + $(\"header\").innerHeight() || inputTop > scrollTop + window.innerHeight) {\r\n            scrollTo('body, html', inputTop - $(\"header\").innerHeight() - 50)\r\n        }\r\n    }\r\n};\r\n\r\n$(\".contactForm, .regForm\").submit(function (e) {\r\n    e.preventDefault();\r\n    var thise = $(this);\r\n    var form = $(this);\r\n    submitError = false;\r\n    form.find(\".error\").removeClass(\"error\");\r\n    form.find(\".error_text\").remove();\r\n    form.find(\"input\").each(function () {\r\n        if ($(this).val() == \"\" && $(this).prop('required')) {\r\n            errorDo.call($(this), 'Required')\r\n        };\r\n        // для телефона\r\n        if ($(this).attr(\"type\") == \"tel\") {\r\n            if ($(this).val().length < 20) {\r\n                if ($(this).val().length) {\r\n                    errorDo.call($(this), 'Required')\r\n                } else {\r\n                    errorDo.call($(this), 'Syntax error')\r\n                }\r\n            };\r\n        };\r\n        // для почты\r\n        if ($(this).attr(\"type\") == \"email\" && $(this).prop('required')) {\r\n            var email_val = $(this).val();\r\n            var test_email = /^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\\.([a-zA-Z])+([a-zA-Z])+/;\r\n            if(!email_val || !test_email.test(email_val)){\r\n                if (email_val.length) {\r\n                    errorDo.call($(this), 'Incorrect email address')\r\n                } else {\r\n                    errorDo.call($(this), 'Required')\r\n                }\r\n            };\r\n        };\r\n    });\r\n    form.find(\"textarea\").each(function () {\r\n        if ($(this).val() == \"\" && $(this).prop('required')) {\r\n            errorDo.call($(this), 'Required')\r\n        };\r\n    });\r\n    if (!submitError) {\r\n        let data = form.serialize();\r\n        successForm(data);\r\n    }\r\n    return false;\r\n});\r\n\r\nfunction errorDo(text) {\r\n    $(this).nextAll(\".error_text\").remove();\r\n    $(this).after('<span class=\"error_text\">' + text + '</span>');\r\n    if (!submitError) scrollToErrorInput.call($(this));\r\n    submitError = true;\r\n    createError($(this));\r\n}\r\n\r\nfunction successForm(data) {\r\n    alert(\"success\");\r\n}","function testWebP(callback) {\r\n    var webP = new Image();\r\n    webP.onload = webP.onerror = function () {\r\n        callback(webP.height == 2);\r\n    };\r\n    webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\r\n};\r\n\r\nfunction changeImgSrc(element) {\r\n    element.attr(\"used-webp\", true);\r\n    element.attr(\"data-src-default\", element.data(\"src\"));\r\n    if (element[0].hasAttribute(\"data-webp\") && element.data(\"webp\").length > 0) {\r\n        element.attr(\"data-src\", element.data(\"webp\"));\r\n    };\r\n    if (element[0].hasAttribute(\"data-webp-retina\") && element.data(\"webp-retina\").length > 0) {\r\n        element.attr(\"data-retina\", element.data(\"webp-retina\"));\r\n    };\r\n};\r\n\r\n$(document).ready(function () {\r\n    testWebP(function (support) {\r\n        $('.lazyWebp').lazy({\r\n            visibleOnly: true,\r\n\r\n            beforeLoad: function (element) {\r\n                if (support) changeImgSrc(element);\r\n            },\r\n            onError: function (element) {\r\n                if (support && element.attr(\"used-webp\") == 'true') {\r\n                    console.log('error load webp image, src =', '\"' + element.attr(\"data-src\") + '\"');\r\n                    element.attr(\"src\", element.attr(\"data-src-default\"));\r\n                }\r\n            },\r\n            afterLoad: function (element) {\r\n                $(element).css({\r\n                    'visibility': 'visible',\r\n                }).fadeTo(250, 1)\r\n            },\r\n        });\r\n        if (support) $(\".swiper-container .swiper-lazy.webp\").each(function () { changeImgSrc($(this)) });\r\n        initSwiperSliders();\r\n    });\r\n    // lazy.js\r\n    $('.lazy').lazy({\r\n        afterLoad: function (element) {\r\n            $(element).css({ 'visibility': 'visible' });\r\n            if (!$(element).hasClass(\"noFade\")) $(element).fadeTo(250, 1);\r\n        },\r\n    });\r\n    // lazy.js\r\n});","// popup.js\r\nconst popup = {\r\n    hide_popup_timer: undefined,\r\n    shift: 100,\r\n    openModal: false,\r\n    timeAnimation: 0.75,\r\n    ease: 'Power3.easeInOut',\r\n    easeFast: 'Power4.easeInOut',\r\n    show: function (target_block, event, $this) {\r\n        $(\".popup_bg\").fadeIn(animTime * 2);\r\n        const block = $(\"div.popup_block\").filter(\".\" + target_block);\r\n        let fullWidth = block.hasClass(\"fullWidth\");\r\n        block.find(\".popupContent\").scrollTop(0);\r\n        let set_time = 0;\r\n        if (this.openModal) {\r\n            let visibleBlock = $(\".popup_block:visible\");\r\n            let blockWidth = visibleBlock.innerWidth();\r\n            animateFromTo(visibleBlock, this.timeAnimation / 2, {}, { y: this.shift / 2, opacity: 0, ease: this.easeFast })\r\n            // если есть видимая модалка то даем ей плавно скрыться\r\n            set_time = this.timeAnimation * 1000 / 2;\r\n        }\r\n        // \r\n        this.openCallBuck(target_block, block);\r\n        // \r\n        setTimeout(() => {\r\n            hold_scroll_page(true)\r\n            $(\".popup_block\").removeAttr(\"style\");\r\n            if ($($this).is(\"a\")) {\r\n                event.preventDefault();\r\n                // если тыкнули на ссылку то убираем стандартный обработчик клика\r\n            }\r\n            clearTimeout(this.hide_popup_timer);\r\n            block.css(\"height\", \"\");\r\n            block.find(\".content_wrap_inner\").scrollTop(0);\r\n            block.stop(true).show();\r\n            hideScrollBar(true);\r\n            animateFromTo(block[0],\r\n                this.timeAnimation,\r\n                {\r\n                    opacity: 0,\r\n                    y: this.shift\r\n                },\r\n                {\r\n                    opacity: 1,\r\n                    y: 0,\r\n                    ease: this.ease,\r\n                    onComplete: () => {\r\n                        if (target_block == 'iframe' || target_block == 'fullCalc') {\r\n                            block.find(\".logo\").fadeTo(250, 1);\r\n                        } else {\r\n                            $('body').removeClass(\"showLogo\");\r\n                        }\r\n                        this.openModal = true;\r\n                        block.find(\".content_wrap_inner, .popupWrap\").scrollTop(0);\r\n                        block.css(\"transform\", '')\r\n                    },\r\n                }\r\n            );\r\n        }, set_time);\r\n    },\r\n    hide: function (target_block) {\r\n        $('body').removeClass(\"showLogo\");\r\n        let target_blockDiv = $(\"div.popup_block\").filter(\".\" + target_block);\r\n        const block = target_blockDiv.length ? target_blockDiv : $(\".popup_block:visible\");\r\n        block.find(\".logo\").fadeTo(250, 0)\r\n        let blockWidth = block.innerWidth();\r\n        let blockHeight = block.innerHeight();\r\n        let fullWidth = block.hasClass(\"fullWidth\");\r\n        if (this.openModal || $(\".popup_block:visible\").length) {\r\n            setTimeout(() => {\r\n                $(\".popup_bg\").fadeOut(animTime * 2);\r\n                hideScrollBar(false);\r\n            }, this.timeAnimation / 2 * 1000);\r\n            animateFromTo(block[0], this.timeAnimation, {},\r\n                {\r\n                    opacity: 0,\r\n                    y: this.shift,\r\n                    ease: this.ease,\r\n                    onComplete: () => {\r\n                        block.find(\".content_wrap_inner, .popupWrap\").scrollTop(0);\r\n                        $(\".popup_block\").hide();\r\n                        hold_scroll_page(false);\r\n                        this.openModal = false;\r\n                        $(\".popup_bg\").css(\"z-index\", '');\r\n                        $(\"header\").css(\"z-index\", '');\r\n                    },\r\n                }\r\n            );\r\n        };\r\n        this.closeCallBuck(block);\r\n    },\r\n    openCallBuck: function (target_block, block) {\r\n        switch (target_block) {\r\n            case 'loginPopup':\r\n                block.find(\".authorizationForm\").removeClass(\"forgotPasswordNow passwordSent\");\r\n                block.find(\".forgotPasswordContent, .forgotDoneText\").hide(0);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    closeCallBuck: function (target_block) {\r\n\r\n    }\r\n}\r\n\r\nfunction hold_all_scroll_page(fix = false) {\r\n    if (fix) {\r\n        window.addEventListener('wheel', holdScroll, { passive: false });\r\n        window.addEventListener('DOMMouseScroll', holdScroll, { passive: false });\r\n        document.addEventListener('touchmove', holdScroll, { passive: false });\r\n    } else {\r\n        window.removeEventListener('wheel', holdScroll, { passive: false });\r\n        window.removeEventListener('DOMMouseScroll', holdScroll, { passive: false });\r\n        document.removeEventListener('touchmove', holdScroll, { passive: false });\r\n    }\r\n}\r\n\r\nfunction holdScroll(e) {\r\n    e = e || window.event;\r\n    if (e.preventDefault)\r\n        e.preventDefault();\r\n    e.returnValue = false;\r\n    return false;\r\n}\r\n\r\nfunction hold_scroll_page(fix = false) {\r\n    if (fix) {\r\n        window.addEventListener('wheel', preventDefault, { passive: false });\r\n        window.addEventListener('DOMMouseScroll', preventDefault, { passive: false });\r\n        document.addEventListener('touchmove', preventDefault, { passive: false });\r\n        // $(document).on(\"touchmove\", preventDefault)\r\n    } else {\r\n        window.removeEventListener('wheel', preventDefault, { passive: false });\r\n        window.removeEventListener('DOMMouseScroll', preventDefault, { passive: false });\r\n        document.removeEventListener('touchmove', preventDefault, { passive: false });\r\n    }\r\n}\r\n\r\nvar ts;\r\n$(document).on('touchstart', function (e) {\r\n    ts = e.originalEvent.touches[0].clientY;\r\n});\r\n\r\nfunction preventDefault(e) {\r\n    e = e || window.event;\r\n    var area;\r\n    if ($(e.target).closest(\".popupContent\").length) {\r\n        area = $(e.target).closest(\".popupContent\");\r\n    } else if ($(e.target).closest(\".mobile_row\").length) {\r\n        area = $(e.target).closest(\".wrap\");\r\n    } else if ($(e.target).closest(\".menuMiddle\").length) {\r\n        area = $(e.target).closest(\".menuMiddle\");\r\n    } else if ($(e.target).closest(\".searchContent\").length) {\r\n        area = $(e.target).closest(\".searchContent\");\r\n    } else {\r\n        area = $(e.target);\r\n    };\r\n    var parentPopup = $(e.target).closest(\".popupContent, .mobile_row, .menuMiddle, .searchContent\").length || $(e.target).hasClass('.popupContent');\r\n    if (!parentPopup) {\r\n        e.preventDefault();\r\n        e.returnValue = false;\r\n        return false;\r\n    };\r\n    var delta = e.deltaY || e.detail || e.wheelDelta;\r\n    if (e.type == \"touchmove\") {\r\n        var tob = e.changedTouches[0] // reference first touch point for this event\r\n        var offset = parseInt(tob.clientY)\r\n        if (ts < offset - 5) {\r\n            delta = -100;\r\n        } else if (ts > offset + 5) {\r\n            delta = 100;\r\n        };\r\n    };\r\n    if (delta <= 0 && area[0].scrollTop <= 0) {\r\n        e.preventDefault();\r\n    };\r\n    if (delta > 0 && area[0].scrollHeight - area[0].clientHeight - area[0].scrollTop <= 1) {\r\n        e.preventDefault();\r\n    };\r\n};\r\n\r\n// popup.js\r\n\r\nfunction hideScrollBar(hide = true) {\r\n    if (hide) {\r\n        $(\"body, html\").css(\"overflow\", 'hidden');\r\n        $(\"html\").css({ paddingRight: getScrollbarWidth() })\r\n    } else {\r\n        $(\"body, html\").css(\"overflow\", '');\r\n        $(\"html\").css({ paddingRight: '' })\r\n    };\r\n}","$(window).resize(function () {\r\n    window_width = $(window).innerWidth();\r\n    window_height = $(window).innerHeight();\r\n})\r\n\r\nfunction rnd(min, max) {\r\n    var rand = min - 0.5 + Math.random() * (max - min + 1);\r\n    rand = Math.round(rand);\r\n    return rand;\r\n};\r\n\r\n$(document).ready(function () {\r\n\r\n    aos_init();\r\n\r\n\r\n    if ( $('#scene1').length ){\r\n        var scene1 = document.getElementById('scene1');\r\n        var parallax1 = new Parallax(scene1);\r\n    }\r\n    if ( $('#scene2').length ){\r\n        var scene2 = document.getElementById('scene2');\r\n        var parallax2 = new Parallax(scene2);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    check_resize();\r\n    $(\"label.with_line input, label.with_line textarea, .with_hover_text input\").focus(function () {\r\n        $(this).parent().addClass(\"hover\");\r\n    });\r\n    $(\"label.with_line input, label.with_line textarea, .with_hover_text input\").blur(function () {\r\n        if ($(this).val() == \"\") {\r\n            $(this).parent().removeClass(\"hover\");\r\n        }\r\n    });\r\n\r\n    // $(\"input.tel_mask\").mask(\"+3 8 (055) 555-55-55\");\r\n\r\n    $(\"header .menu_btn\").click(function () {\r\n        if (menu_btn_access) {\r\n            $(this).toggleClass(\"active\");\r\n            menu_btn_access = false;\r\n            if ($(this).hasClass(\"active\")) {\r\n                show_mob_menu();\r\n            } else {\r\n                hide_mob_menu();\r\n            }\r\n        }\r\n    });\r\n\r\n    // aos_init();\r\n\r\n    $(\"nav a\").click(function () {\r\n        hide_mob_menu();\r\n    })\r\n\r\n\r\n    // плавный скролл навигации\r\n    $(\"nav a\").click(function (event) {\r\n        var id = $(this).attr(\"href\").replace(\"/\", '');\r\n        if ($(id).length) {\r\n            event.preventDefault();\r\n            scrollTo(\"body, html\", $(id).offset().top);\r\n            if (window.innerWidth <= 680) showHideMenu(false);\r\n        }\r\n    });\r\n    // плавный скролл навигации\r\n    // end ready\r\n});\r\n\r\nvar windowLoad = false;\r\n$(window).load(function () {\r\n    windowLoad = true;\r\n});\r\n\r\nfunction move_to_tablet() {\r\n\r\n};\r\n\r\n\r\nfunction move_to_desktop() {\r\n    hide_mob_menu();\r\n    if (typeof popup != 'undefined') popup.hide();\r\n};\r\n\r\nfunction prefix(index) {\r\n    return index < 10 ? \"0\" + index : index;\r\n};\r\n\r\nfunction show_mob_menu(time = 500) {\r\n    var total_delay = 200;\r\n    $(\"header .mobile_row nav li, header .bookDemo, header .lang\").each(function (i) {\r\n        $(this).css(\"transition-delay\", total_delay + \"ms\").attr(\"data-delay\", total_delay);\r\n        total_delay += 100;\r\n    });\r\n    // \r\n    hold_scroll_page(true);\r\n    $(\"header\").addClass(\"show  white\");\r\n    setTimeout(() => {\r\n        $(\"header\").addClass(\"open\");\r\n    }, 50);\r\n    setTimeout(() => {\r\n        menu_btn_access = true;\r\n    }, time);\r\n}\r\n\r\nfunction hide_mob_menu(time = 500) {\r\n    hold_scroll_page(false);\r\n    $(\"header\").removeClass(\"open white\");\r\n    setTimeout(function () {\r\n        $(\"header\").removeClass(\"show\");\r\n        menu_btn_access = true;\r\n        $(\"header nav li, header .tel_block\").removeAttr(\"data-delay\")\r\n    }, 700);\r\n    $(\".menu_btn\").removeClass(\"active\")\r\n}\r\n\r\nfunction navClick(i) {\r\n    $('body, html').animate({\r\n        scrollTop: $('.screen').eq(i).offset().top - $(\"header\").innerHeight()\r\n    }, 1000);\r\n    hide_mob_menu();\r\n}\r\n\r\nfunction getScrollbarWidth() {\r\n    // Creating invisible container\r\n    const outer = document.createElement('div');\r\n    outer.style.visibility = 'hidden';\r\n    outer.style.overflow = 'scroll'; // forcing scrollbar to appear\r\n    outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\r\n    document.body.appendChild(outer);\r\n    // Creating inner element and placing it in the container\r\n    const inner = document.createElement('div');\r\n    outer.appendChild(inner);\r\n    // Calculating difference between container's full width and the child width\r\n    const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\r\n    // Removing temporary elements from the DOM\r\n    outer.parentNode.removeChild(outer);\r\n    return scrollbarWidth;\r\n}\r\n\r\nfunction showMoreNewsItemCard() {\r\n    $(\".newsGrid.main\").append($(\".newsGrid.hidden .newsItemCard\"));\r\n    let newsGridMain = $(\".newsGridBlock .newsGrid.main\");\r\n    let newsGridHidden = $(\".newsGridBlock .newsGrid.hidden\");\r\n    let loadBtn = $(\".newsGridBlock .loadMore .mainBtn\");\r\n    if (loadBtn.hasClass(\"loading\")) return false;\r\n    // \r\n    loadBtn.addClass(\"loading\").attr(\"disabled\", 'disabled');\r\n    // этот блок замени на ajax\r\n    setTimeout(() => {\r\n        // temp\r\n        let tempCards = newsGridMain.find(\".newsItemCard\").slice(0, 10).clone();\r\n        tempCards.fadeTo(0, 0);\r\n        // хочу что бы карточки появлялись через fade\r\n        newsGridMain.append(tempCards.fadeTo(150, 1));\r\n        // temp\r\n        loadBtn.removeClass(\"loading\").removeAttr(\"disabled\")\r\n    }, 1000)\r\n}\r\n\r\nfunction scrollTo(block, scrollTop, time = 1) {\r\n    TweenMax.to(block, time, {\r\n        scrollTop: scrollTop,\r\n        ease: \"Power2.easeInOut\",\r\n    });\r\n};\r\n\r\n\r\nconst aosFadeArrDone = [\r\n    '.parallaxDotsItem:not(.custom)'\r\n];\r\n\r\nfunction aos_init() {\r\n    $(\".aos\").attr(\"data-aos\", \"fade-up\");\r\n    $(aosFadeArrDone.join(',')).addClass(\"aos\").attr(\"data-aos\", \"fade-up\");\r\n    setTimeout(() => {\r\n        AOS.init({\r\n            duration: 500,\r\n            once: true,\r\n            easing: \"ease-out-quad\"\r\n        });\r\n    }, 500);\r\n};\r\n\r\nfunction initPopupVideo() {\r\n    let video_html = $(\"#video_html\");\r\n    if (video_html.find(\"video\").length) {\r\n        $(\"#popupVideo\")[0].play();\r\n        return false;\r\n    }\r\n    let videoSrc = video_html.data(\"src\");\r\n    let poster = video_html.data(\"poster\");\r\n    let video = `<video loop autoplay id=\"popupVideo\" controls poster=\"${poster}\">\r\n                    <source src=\"${videoSrc}\" type='video/mp4'></source>\r\n                </video>`;\r\n    video_html.append(video);\r\n    popupVideoInited = true;\r\n}\r\n\r\n// window.viewportUnitsBuggyfill.init({\r\n//     force: true,\r\n//     refreshDebounceWait: 250,\r\n//     hacks: window.viewportUnitsBuggyfillHacks\r\n// });\r\n\r\n// $(document).on(\"click\", \"a:not(.dont-go)\", function (e) {\r\n//     var href = $(this).attr(\"href\");\r\n//     if (href.indexOf(\"void(0)\") < 0 && href.length && $(this).attr(\"target\") != \"_blank\") {\r\n//         e.preventDefault();\r\n//         $(\"body\").fadeTo(250, 0, function () {\r\n//             window.location.href = href;\r\n//         })\r\n//     }\r\n// });\r\nfunction setDelayTransform(divs, total_delay = 300) {\r\n    $(divs).each(function (i) {\r\n        $(this).css(\"transition-delay\", total_delay + \"ms\").attr(\"data-delay\", total_delay);\r\n        total_delay += 100;\r\n    });\r\n}","// $(document).ready(function () {\r\n//     scrollTopBtn = $('.scrollTopBtn');\r\n//     $(window).scroll(checkScrollBtn)\r\n//     checkScrollBtn();\r\n// });\r\n\r\n// function checkScrollBtn() {\r\n//     if ($(window).scrollTop() > scrollBtnBorder && !showScrollBtn) {\r\n//         showScrollBtn = true;\r\n//         scrollTopBtn.fadeIn(animationTime);\r\n//     };\r\n//     if ($(window).scrollTop() <= scrollBtnBorder && showScrollBtn) {\r\n//         showScrollBtn = false;\r\n//         scrollTopBtn.fadeOut(animationTime);\r\n//     };\r\n// };","// sliders.js\r\n// let partnersSlider;\r\n// function checkSizePartnersSlider() {\r\n//     console.log(\"checkSizeTeamSwiper\");\r\n//     partnersSlider = $(\".partnersSlider\");\r\n//     let offset = partnersSlider.offset();\r\n//     partnersSlider.width(window.innerWidth - offset.left);\r\n// };\r\n// function initCheckSizePartnersSlider() {\r\n//     checkSizePartnersSlider();\r\n//     $(window).on(\"resize.partnersSlider\", this.checkSizePartnersSlider);\r\n// }\r\nfunction initSwiperSliders() {\r\n    //     $(\".articleSlider\").each(function () {\r\n    //         new Swiper($(this).find(\".swiper-container\")[0], {\r\n    //             loop: true,\r\n    //             autoHeight: true,\r\n    //             slidesPerView: 1,\r\n    //             spaceBetween: 0,\r\n    //             pagination: {\r\n    //                 el: $(this).find(\".swiper-pagination\"),\r\n    //             },\r\n    //             navigation: {\r\n    //                 prevEl: $(this).find(\".swiper-button-prev\"),\r\n    //                 nextEl: $(this).find(\".swiper-button-next\"),\r\n    //             },\r\n    //         });\r\n    //     });\r\n    // });\r\n};","// stick_in_parent.js\r\n// $(document).ready(function () {\r\n//     $(\".rotateProductWrap.cssHeight, .advantagesAppLeftColumn\").stick_in_parent({\r\n//         offset_top: $(\"header\").innerHeight()\r\n//     });\r\n// });\r\n// stick_in_parent.js","\r\nfunction initTextarea() {\r\n    $(\"form textarea\").each(function () {\r\n        let observe;\r\n        if (window.attachEvent) {\r\n            observe = function (element, event, handler) {\r\n                element.attachEvent(\"on\" + event, handler);\r\n            };\r\n        } else {\r\n            observe = function (element, event, handler) {\r\n                element.addEventListener(event, handler, false);\r\n            };\r\n        }\r\n        //\r\n        $(this).wrap(\"<div class='textareaWrap'></div>\");\r\n        let thise = $(this);\r\n        var text = $(this)[0];\r\n        function resize() {\r\n            let scrollHeight = text.scrollHeight;\r\n            scrollHeight -=\r\n                parseInt(thise.css(\"padding-top\")) -\r\n                parseInt(thise.css(\"padding-bottom\"));\r\n            // console.log(scrollHeight);\r\n            text.style.height = \"auto\";\r\n            text.style.height = scrollHeight <= 49 ? 49 + \"px\" : text.scrollHeight + \"px\";\r\n            thise[scrollHeight > 49 ? \"addClass\" : \"removeClass\"](\"shift\");\r\n            thise[scrollHeight > 250 ? \"addClass\" : \"removeClass\"](\"scroll\");\r\n        }\r\n        /* 0-timeout to get the already changed text */\r\n        function delayedResize() {\r\n            window.setTimeout(resize, 5);\r\n        }\r\n        observe(text, \"change\", resize);\r\n        observe(text, \"cut\", delayedResize);\r\n        observe(text, \"paste\", delayedResize);\r\n        observe(text, \"drop\", delayedResize);\r\n        observe(text, \"keydown\", delayedResize);\r\n\r\n        text.focus();\r\n        text.select();\r\n        resize();\r\n    });\r\n};\r\n\r\n\r\n$(document).ready(function () {\r\n    initTextarea();\r\n});"]}